export default function handler(req, res) {
  try {
    const panels = [];
    let index = 1;

    while (process.env[`PANEL_${index}_NAME`]) {
      panels.push({
        id: index,
        name: process.env[`PANEL_${index}_NAME`],
        url: process.env[`PANEL_${index}_URL`]
      });
      index++;
    }

    res.status(200).json({
      success: true,
      panels
    });

  } catch (error) {
    res.status(500).json({
      success: false,
      message: "Failed to load panels"
    });
  }
}